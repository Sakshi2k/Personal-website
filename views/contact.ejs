<%- include('partials/header') -%>
<link rel="stylesheet" href="css/contact.css" />

<%- include('partials/navbar') -%>

<body>
  <img src="imgs/Tag.png" id="tag" />
  <div class="container">
    <h1 class="page-title">Contact Me</h1>
    <img src="imgs/contact.PNG" alt="contactMe" id="contactIcon" />

    <!-- Success / failure message on sending request -->
    <p id="successMsg"><%= successMessage %></p>
    
    <!-- <form method="POST" class="inputForm" action="/send"> -->
      <form class="inputForm">
      <div class="input-group">
        <input type="text" name="fname" class="form-control form-sm" placeholder="First Name" required />
        <input type="text" name="lname" class="form-control form-sm" placeholder="Last Name" required />
      </div>
      <input type="text" name="email" class="form-control" placeholder="Email" required />
      <input type="text" name="subject" class="form-control" placeholder="Subject" required />
      <textarea class="form-control" name="message" placeholder="Message" rows="3" required></textarea>
      <button type="submit" class="btn btn-secondary btn-submit"
        onclick="sendRequest()">
        Send<i class="fa fa-paper-plane-o"></i>
      </button>
    </form>
  </div>
  <%- include('partials/footer') -%>
</body>
<script>

  function sendRequest() {
    $.ajax('/contact/send', {
      type: 'POST',  // http method
      success: function (result) {
        console.log('success');
        console.log(result);
        $("#successMsg").text(result.successMessage);
        resul$("#successMsg").css("color", "green");
      },
      error: function (err) {
        console.log('failed');
        console.log(err);
        $("#successMsg").text(result.successMessage);
      }
    });
  }
</script>